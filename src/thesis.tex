%--------------------------------------------------------------------%
%
% Berkas utama templat LaTeX.
%
% author Petra Barus, Peb Ruswono Aryan, Faris Rizki Ekananda
%
%--------------------------------------------------------------------%
%
% Berkas ini berisi struktur utama dokumen LaTeX yang akan dibuat.
%
%--------------------------------------------------------------------%

\documentclass[bahasa, 12pt, a4paper, onecolumn, oneside, final]{report}

\input{config/ta/if-itb-thesis.sty}
\input{config/hypenation-id.tex}
\input{config/hypenation-en.tex}
\input{config/custom-commands.tex}

\makeatletter

\makeatother

\addbibresource{references.thesis.bib}

\begin{document}

\title{Pengembangan Sistem Ekstraksi Data dari Struk dan Bukti Pembayaran Berbasis \emph{Computer Vision} dan \emph{Deep Learning} Tanpa OCR}
\date{}
\author{
	\MakeUppercase{\namapenulis \\
		NIM: \nimpenulis}
}

\pagenumbering{roman}
\setcounter{page}{1}

\input{chapters/ta/cover}
\input{chapters/ta/approval-1}
\input{chapters/ta/statement}

\pagestyle{plain}

\input{chapters/ta/abstract-id}
% \input{chapters/abstract-en}

\input{chapters/ta/forewords}

% Ensure chapter formatting is properly applied for TOC/LOF/LOT
\makeatletter
% Reset chapter formatting to ensure 14pt centered titles
\titleformat{\chapter}[display]
{\fontsize{14}{16.8}\selectfont\centering\bfseries}
{\chaptertitlename\ \thechapter}{0pt}
{\fontsize{14}{16.8}\selectfont\bfseries\uppercase}
% Reset chapter spacing for proper title formatting
\titlespacing*{\chapter}{0pt}{0pt}{16pt}
\makeatother

% Setting judul toc, lot, lof, bib
\renewcommand{\contentsname}{DAFTAR ISI}
\renewcommand{\listfigurename}{DAFTAR GAMBAR}
\renewcommand{\listtablename}{DAFTAR TABEL}
\renewcommand{\bibname}{DAFTAR PUSTAKA}

% daftar isi, lampiran, gambar, table
\newpage
% Manual override for Table of Contents title
\makeatletter
\begin{center}
\fontsize{14}{16.8}\selectfont\bfseries
DAFTAR ISI
\end{center}
\vspace{16pt}
\addcontentsline{toc}{chapter}{DAFTAR ISI}
\@starttoc{toc}
\makeatother

\listofappendices
\newpage

% Manual override for List of Figures title
\makeatletter
\begin{center}
\fontsize{14}{16.8}\selectfont\bfseries
DAFTAR GAMBAR
\end{center}
\vspace{16pt}
\addcontentsline{toc}{chapter}{DAFTAR GAMBAR}
\@starttoc{lof}
\makeatother

\newpage
% Manual override for List of Tables title
\makeatletter
\begin{center}
\fontsize{14}{16.8}\selectfont\bfseries
DAFTAR TABEL
\end{center}
\vspace{16pt}
\addcontentsline{toc}{chapter}{DAFTAR TABEL}
\@starttoc{lot}
\makeatother

\newpage
% Manual override for List of Equations title
\makeatletter
\begin{center}
\fontsize{14}{16.8}\selectfont\bfseries
DAFTAR PERSAMAAN
\end{center}
\vspace{16pt}
\addcontentsline{toc}{chapter}{DAFTAR PERSAMAAN}
\@starttoc{loe}
\makeatother

\newpage

% Uniform section formatting - all levels at 12pt (normalsize)
% MOVED: Section formatting moved after chapter config for proper application
% \titleformat*{\section}{\normalfont\normalsize\bfseries}
% \titleformat*{\subsection}{\normalfont\normalsize\bfseries}
% \titleformat*{\subsubsection}{\normalfont\normalsize\bfseries}

% Custom 4th level formatting (subsubsubsection)
% \titleformat{\subsubsubsection}
% {\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}
% \titlespacing*{\subsubsubsection}
% {0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}
\pagenumbering{arabic}

%----------------------------------------------------------------%
% Konfigurasi Bab
%----------------------------------------------------------------%
\setcounter{page}{1}
\renewcommand{\chaptername}{BAB}
\renewcommand{\thechapter}{\Roman{chapter}}
%----------------------------------------------------------------%

% CRITICAL: Apply uniform section formatting - all levels at 12pt (normalsize)
% This placement after chapter config ensures it overrides document class defaults
\makeatletter
% Ensure chapter formatting remains consistent for numbered chapters
\titleformat{\chapter}[display]
{\fontsize{14}{16.8}\selectfont\centering\bfseries}
{\chaptertitlename\ \thechapter}{0pt}
{\fontsize{14}{16.8}\selectfont\bfseries\uppercase}

\titleformat*{\section}{\normalfont\normalsize\bfseries}
\titleformat*{\subsection}{\normalfont\normalsize\bfseries}
\titleformat*{\subsubsection}{\normalfont\normalsize\bfseries}

% Custom 4th level formatting (subsubsubsection)
\titleformat{\subsubsubsection}
{\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}
\titlespacing*{\subsubsubsection}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

% Force font size consistency - override any document class variations
\def\section{\@startsection{section}{1}{\z@}{-3.5ex plus -1ex minus -.2ex}{2.3ex plus .2ex}{\normalfont\normalsize\bfseries}}
\def\subsection{\@startsection{subsection}{2}{\z@}{-3.25ex plus -1ex minus -.2ex}{1.5ex plus .2ex}{\normalfont\normalsize\bfseries}}
\def\subsubsection{\@startsection{subsubsection}{3}{\z@}{-3.25ex plus -1ex minus -.2ex}{1.5ex plus .2ex}{\normalfont\normalsize\bfseries}}
\makeatother

%----------------------------------------------------------------%
% Dafter Bab
% Untuk menambahkan daftar bab, buat berkas bab misalnya `chapter-6` di direktori `chapters`, dan masukkan ke sini.
%----------------------------------------------------------------%
\input{chapters/ta/chapter-1}
\input{chapters/ta/chapter-2}
% \blankpage
\input{chapters/ta/chapter-3}

\input{chapters/ta/chapter-4}

\input{chapters/ta/chapter-5}

\input{chapters/ta/chapter-6}
%---------------------------------------------------------------%

% Daftar pustaka
\printbibliography{}

% Setting judul lampiran
\titlespacing*{\chapter}{0pt}{0pt}{0pt}
\titlespacing*{\section}{0pt}{0pt}{*1}

% Setting judul anak lampiran - maintain 12pt consistency
\titleformat*{\section}{\normalfont\normalsize\bfseries}

\input{chapters/ta/appendix/appendix}

\end{document}
